package com.cobelpvp.engine.exploit.util;

import com.cobelpvp.engine.Engine;
import org.bukkit.Bukkit;
import org.bukkit.entity.Player;
import org.bukkit.scheduler.BukkitRunnable;

public class PunishmentUtil {

    public static void punish(Player player) {

        if (!Engine.getInstance().getConfigValues().isPunish()) return;

        Engine.getInstance().getLogger().warning("Punishing " + player.getName() + " for trying to exploit Log4J!");

        new BukkitRunnable() {

            @Override
            public void run() {
                Engine.getInstance().getConfigValues().getBanCommands().forEach(s ->
                        Bukkit.dispatchCommand(Bukkit.getConsoleSender(),
                                s.replace("%PLAYER%", player.getName())));
            }
        }.runTask(Engine.getInstance());
    }
}